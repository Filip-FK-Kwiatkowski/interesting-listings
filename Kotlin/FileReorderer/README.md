File reorder. To be later rewritten in C++.

Credits: veloxdigitis
